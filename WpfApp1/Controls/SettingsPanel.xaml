<UserControl x:Class="WpfApp1.Controls.SettingsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Background="Transparent">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Settings" FontSize="24" FontWeight="SemiBold" 
                   Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI" Margin="0,0,0,24"/>

        <!-- Brightspace API Settings -->
        <Border Grid.Row="1" Background="{DynamicResource MaterialDesignCardBackground}" 
                BorderBrush="{DynamicResource MaterialDesignDivider}" BorderThickness="1" 
                CornerRadius="8" Padding="16" Margin="0,0,0,16">
            <StackPanel Orientation="Vertical">
                <!-- Section Title -->
                <TextBlock Text="Brightspace Integration" FontSize="16" FontWeight="SemiBold" 
                           Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI" 
                           Margin="0,0,0,16"/>

                <!-- Brightspace URL -->
                <TextBlock Text="Brightspace URL" FontWeight="SemiBold" Margin="0,0,0,6" 
                           Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI"/>
                <TextBox x:Name="BrightspaceUrlTextBox" Padding="12,10" BorderThickness="1" 
                         BorderBrush="{DynamicResource MaterialDesignDivider}" Margin="0,0,0,14"
                         Background="{DynamicResource MaterialDesignCardBackground}" 
                         Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI"
                         Text="https://your-institution.brightspace.com"/>

                <!-- API Access Token -->
                <TextBlock Text="API Access Token" FontWeight="SemiBold" Margin="0,0,0,6" 
                           Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI"/>
                <PasswordBox x:Name="ApiTokenPasswordBox" Padding="12,10" BorderThickness="1" 
                             BorderBrush="{DynamicResource MaterialDesignDivider}" Margin="0,0,0,14"
                             Background="{DynamicResource MaterialDesignCardBackground}" 
                             Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI"/>

                <!-- Connection Status -->
                <TextBlock x:Name="ConnectionStatusText" Text="Connection Status: Not Configured" 
                           FontSize="12" Margin="0,0,0,16" 
                           Foreground="{DynamicResource MaterialDesignBodyLight}" FontFamily="Segoe UI"/>

                <!-- Buttons Grid -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <Button x:Name="TestConnectionButton" Content="Test Connection" 
                            Background="{DynamicResource SecondaryHueMid}" 
                            Foreground="{DynamicResource MaterialDesignBody}"
                            Click="TestConnectionButton_Click"
                            Padding="12,8" FontSize="12" FontWeight="SemiBold" 
                            FontFamily="Segoe UI" Cursor="Hand" Margin="0,0,8,0"/>

                    <Button x:Name="SaveSettingsButton" Content="Save Settings" 
                            Background="{DynamicResource SecondaryHueMid}" 
                            Foreground="{DynamicResource MaterialDesignBody}"
                            Click="SaveSettingsButton_Click"
                            Padding="12,8" FontSize="12" FontWeight="SemiBold" 
                            FontFamily="Segoe UI" Cursor="Hand" Margin="0,0,8,0"/>

                    <Button x:Name="SyncNowButton" Content="Sync Now" 
                            Background="#4CAF50" 
                            Foreground="White"
                            Click="SyncNowButton_Click"
                            Padding="12,8" FontSize="12" FontWeight="SemiBold" 
                            FontFamily="Segoe UI" Cursor="Hand" IsEnabled="False"/>
                </StackPanel>

                <!-- Sync Status -->
                <TextBlock x:Name="SyncStatusText" Text="" FontSize="11" Margin="0,12,0,0" 
                           Foreground="{DynamicResource SecondaryHueMid}" FontFamily="Segoe UI"/>
            </StackPanel>
        </Border>

        <!-- Additional Settings -->
        <Border Grid.Row="2" Background="{DynamicResource MaterialDesignCardBackground}" 
                BorderBrush="{DynamicResource MaterialDesignDivider}" BorderThickness="1" 
                CornerRadius="8" Padding="16" VerticalAlignment="Top">
            <StackPanel Orientation="Vertical">
                <TextBlock Text="Application Settings" FontSize="16" FontWeight="SemiBold" 
                           Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI" 
                           Margin="0,0,0,16"/>

                <!-- Auto-Sync Setting -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                    <CheckBox x:Name="AutoSyncCheckBox" VerticalAlignment="Center" 
                              Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock Text="Automatically sync Brightspace assignments on startup" 
                               Margin="8,0,0,0" VerticalAlignment="Center"
                               Foreground="{DynamicResource MaterialDesignBody}" FontFamily="Segoe UI"/>
                </StackPanel>

                <!-- Clear Credentials -->
                <Button Content="Clear Brightspace Credentials" 
                        Background="#F44336" 
                        Foreground="White"
                        Click="ClearCredentialsButton_Click"
                        Padding="12,8" FontSize="12" FontWeight="SemiBold" 
                        FontFamily="Segoe UI" Cursor="Hand" Width="200" HorizontalAlignment="Left"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
